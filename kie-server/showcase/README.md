KIE Server showcase Docker image
=======================================

We changed the location for our docker images from Docker to [RedHat Quay](https://quay.io/repository/kiegroup/kie-server-showcase)

From the versions > 7.61.0.Final on the images will only be available on Quay.

More information of KIE Server available at [KIE documentation](http://docs.jboss.org/drools/release/7.77.7.Test/drools-docs/html_single/#_ch.kie.server).

Table of contents
------------------

* Introduction
* Usage
* Users and roles
* Logging
* Extending this image
* Experimenting
* Notes
* Release notes

Introduction
------------

The image contains: 
              
* JBoss Wildfly 23.0.2.Final
* KIE Server 7.77.7.Test

This is a **ready to run Docker image for Drools KIE Server**. Just run it and try the business-central runtime execution server!                   

Usage
-----
Since `--link` is legacy we had to change the previous command by a simple docker-compose file.

The JBoss KIE Execution server is intended to be used as a standalone runtime execution environment managed by a Business-Central Workbench application that acts as a controller.             

For running the container of Business-Central Workbench application as kie-server remote controller please run:                                 
    podman-compose -f bc-kie-server.yml up
* where bc-kie-server.yml is [bc-kie-server.yml](https://github.com/jboss-dockerfiles/business-central/blob/main/docker-compose-examples/bc-kie-server.yml)

Once container and web applications started, the application is available at:              

    http://localhost:8081/kie-server

The **REST API service** is located at:               

    http://localhost:8081/kie-server/services/rest/server/

Users and roles
----------------

This image provides a default user `kieserver` using password `kieserver1!` and with the role `kie-server`.                      

Logging
-------

You can see all logs generated by the `standalone` binary running:

    docker logs [-f] <container_id>
    
You can attach the container by running:

    docker attach <container_id>

The Drools KIE Server web application logs can be found inside the container at path:

    /opt/jboss/wildfly/standalone/log/server.log

    Example:
    sudo nsenter -t $(docker inspect --format '{{ .State.Pid }}' $(docker ps -lq)) -m -u -i -n -p -w
    -bash-4.2# tail -f /opt/jboss/wildfly/standalone/log/server.log


Experimenting
-------------

To spin up a shell in one of the containers try:

    docker run -t -i -p 8080:8080 quay.io/kiegroup/kie-server-showcase:latest /bin/bash

You can then noodle around the container and run stuff & look at files etc.

Notes
-----

* The context path for Drools KIE Server application services is `kie-server`
* KIE Server version is `7.77.7.Test`
* In order to perform container linking with a jBPM / Drools Workbench image, the link alias must be `kie-wb`       
* No support for clustering                
* This image is not intended to be run on cloud environments such as RedHat OpenShift or Amazon EC2, as it does not meet all the requirements.                      
* Please give us your feedback or report a issue at [Drools Setup](https://groups.google.com/forum/#!forum/drools-setup) or [Drools Usage](https://groups.google.com/forum/#!forum/drools-usage) Google groups.              
* WildFly was upgraded to version 23.0.2.Final
* compatibility with podman version 3.4.2

Release notes
-------------

**7.77.7.Test**

* See release notes for [KIE-server](https://docs.jboss.org/drools/release/7.77.7.Test/drools-docs/html_single/index.html#_ch.kie.server)
